# –ß—Ç–æ —Ç–∞–∫–æ–µ –±—ã—Å—Ç—Ä–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (Quick Sort)?

**–ë—ã—Å—Ç—Ä–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞** ‚Äî —ç—Ç–æ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—é **"—Ä–∞–∑–¥–µ–ª—è–π –∏ –≤–ª–∞—Å—Ç–≤—É–π"** –∏ –≤ —Å—Ä–µ–¥–Ω–µ–º —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–µ–µ –¥—Ä—É–≥–∏—Ö –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏.

---

## –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –≤—ã —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç–µ –∫–Ω–∏–≥–∏ –ø–æ –∞–ª—Ñ–∞–≤–∏—Ç—É:

1. –í—ã –≤—ã–±–∏—Ä–∞–µ—Ç–µ –æ–¥–Ω—É –∫–Ω–∏–≥—É ‚Äî **–æ–ø–æ—Ä–Ω—É—é** (*pivot*).
2. –î–µ–ª–∏—Ç–µ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –∫–Ω–∏–≥–∏ –Ω–∞ –¥–≤–µ —Å—Ç–æ–ø–∫–∏:
   * —Ç–µ, —á—Ç–æ –∏–¥—É—Ç **—Ä–∞–Ω—å—à–µ** –æ–ø–æ—Ä–Ω–æ–π ‚Äî –Ω–∞–ª–µ–≤–æ
   * —Ç–µ, —á—Ç–æ **–ø–æ–∑–∂–µ** ‚Äî –Ω–∞–ø—Ä–∞–≤–æ
3. –ü–æ–≤—Ç–æ—Ä—è–µ—Ç–µ —Ç–æ –∂–µ —Å–∞–º–æ–µ –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç–æ–ø–∫–∏.

---

### –ë–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π:

–ú–∞—Å—Å–∏–≤ –∏–∑ 0 –∏–ª–∏ 1 —ç–ª–µ–º–µ–Ω—Ç–∞ ‚Äî —É–∂–µ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω. –ü—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º.

```python
if len(arr) < 2:
    return arr
```

### –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π —Å–ª—É—á–∞–π:

1. –í—ã–±–∏—Ä–∞–µ–º –æ–ø–æ—Ä–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç
2. –†–∞–∑–±–∏–≤–∞–µ–º –º–∞—Å—Å–∏–≤ –Ω–∞:

   * `less`: —ç–ª–µ–º–µ–Ω—Ç—ã < pivot
   * `greater`: —ç–ª–µ–º–µ–Ω—Ç—ã > pivot
   * (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) `equals`: —ç–ª–µ–º–µ–Ω—Ç—ã == pivot
3. –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ —Å–æ—Ä—Ç–∏—Ä—É–µ–º `less` –∏ `greater`
4. –û–±—ä–µ–¥–∏–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
   `sorted = quick_sort(less) + [pivot] + quick_sort(greater)`


–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ - `[3, 5, 1]`:

1. –û–ø–æ—Ä–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç: `3`
2. `less = [1]`, `greater = [5]`
3. –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ —Å–æ—Ä—Ç–∏—Ä—É–µ–º `less` –∏ `greater`. –°–µ–π—á–∞—Å —ç—Ç–æ –±–∞–∑–æ–≤—ã–µ —Å–ª—É—á–∞–∏
4. –û—Ç–≤–µ—Ç: `[1] + [3] + [5] = [1, 3, 5]`

---

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

```python
def quick_sort(arr: list) -> list:
    if len(arr) < 2:
        return arr
    else:
        pivot = arr[0]
        less = [el for el in arr[1:] if el <= pivot]
        greater = [el for el in arr[1:] if el > pivot]
        return quick_sort(less) + [pivot] + quick_sort(greater)
```

–í –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ pivot ‚Äî —ç—Ç–æ –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç. –ù–æ **–µ—Å–ª–∏ –º–∞—Å—Å–∏–≤ —É–∂–µ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω**, —ç—Ç–æ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ **–ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—é —Å—Ç–µ–∫–∞** –∏ –≤—Ä–µ–º–µ–Ω–∏ `O(n¬≤)`. –í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –æ–¥–∏–Ω –∏–∑ –ø–æ–¥–º–∞—Å—Å–∏–≤–æ–≤ –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç –ø—É—Å—Ç–æ–π, —á—Ç–æ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä–µ–∫—É—Ä—Å–∏—é —Å –±–æ–ª—å—à–µ–π –≥–ª—É–±–∏–Ω–æ–π - `O(n)`, –∞ –Ω–µ `O(log n)`.


–î–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è —à–∞–Ω—Å–æ–≤ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è —Ö—É–¥—à–µ–≥–æ —Å–ª—É—á–∞—è –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç:

```python
import random

def quick_sort(arr: list[int]) -> list[int]:
    if len(arr) < 2:
        return arr
    pivot = random.choice(arr)
    less = [el for el in arr if el < pivot]
    equals = [el for el in arr if el == pivot]
    greater = [el for el in arr if el > pivot]
    return quick_sort(less) + equals + quick_sort(greater)
```

---

## –í—Ä–µ–º–µ–Ω–Ω–∞—è –∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å

| –°–ª–æ–∂–Ω–æ—Å—Ç—å  | –õ—É—á—à–∏–π —Å–ª—É—á–∞–π                | –°—Ä–µ–¥–Ω–∏–π —Å–ª—É—á–∞–π | –•—É–¥—à–∏–π —Å–ª—É—á–∞–π |
| ---------- | ---------------------------- | -------------- | ------------- |
| **–í—Ä–µ–º—è**  | `O(n log n)`                 | `O(n log n)`   | `O(n¬≤)`       |
| **–ü–∞–º—è—Ç—å** | `O(log n)` (–≤ —Å—Ç–µ–∫–µ –≤—ã–∑–æ–≤–æ–≤) | `O(log n)`     | `O(n)`        |

> –í —Å—Ä–µ–¥–Ω–µ–º quick sort ‚Äî **–±—ã—Å—Ç—Ä–µ–µ**, —á–µ–º merge sort, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ö—É–¥—à–∏–π —Å–ª—É—á–∞–π. –ü–æ—á–µ–º—É? –ò–∑-–∑–∞ **–º–µ–Ω—å—à–∏—Ö –∫–æ–Ω—Å—Ç–∞–Ω—Ç**, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø—É—Å–∫–∞—é—Ç—Å—è –≤ –Ω–æ—Ç–∞—Ü–∏–∏ Big O.

---

## –ü–æ—á–µ–º—É O(n log n) –≤ —Å—Ä–µ–¥–Ω–µ–º?

1. –ù–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ:

   * –¥–µ–ª–∏–º –º–∞—Å—Å–∏–≤ ‚Üí O(log n) —É—Ä–æ–≤–Ω–µ–π
   * –Ω–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ –¥–µ–ª–∞–µ–º O(n) —Å—Ä–∞–≤–Ω–µ–Ω–∏–π (–≤–µ—Å—å –º–∞—Å—Å–∏–≤)
2. –í—Å–µ–≥–æ: O(n) √ó O(log n) = **O(n log n)**

---

## Quick Sort –∏ Merge Sort

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞       | Quick Sort                          | Merge Sort                     |
| -------------------- | ----------------------------------- | ------------------------------ |
| –í—Ä–µ–º—è (—Å—Ä–µ–¥–Ω–µ–µ)      | `O(n log n)`                        | `O(n log n)`                   |
| –í—Ä–µ–º—è (—Ö—É–¥—à–µ–µ)       | `O(n¬≤)`                             | `O(n log n)`                   |
| –ü–∞–º—è—Ç—å               | `O(log n)` (in-place)               | `O(n)`                         |
| –°–∫–æ—Ä–æ—Å—Ç—å –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ | –ë—ã—Å—Ç—Ä–µ–µ (–º–µ–Ω—å—à–µ –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤) | –ß–∞—â–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ LinkedList |
| –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å         | ‚ùå –Ω–µ—Ç                               | ‚úÖ –¥–∞                           |
| In-place             | ‚úÖ (–≤ –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)       | ‚ùå (—Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–µ –º–∞—Å—Å–∏–≤—ã)      |

–î–∞–∂–µ –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ö—É–¥—à–∏–π —Å–ª—É—á–∞–π, **Quick Sort** —á–∞—Å—Ç–æ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ ‚Äî –æ–Ω –±—ã—Å—Ç—Ä–µ–µ –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–∏—Ç—É–∞—Ü–∏–π.

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

* Quick Sort ‚Äî –º–æ—â–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ —Å —Ä–µ–∫—É—Ä—Å–∏–µ–π
* –í —Å—Ä–µ–¥–Ω–µ–º —Ä–∞–±–æ—Ç–∞–µ—Ç –∑–∞ `O(n log n)`
* –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –¥–µ–ª–∏—Ç –º–∞—Å—Å–∏–≤ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –æ–ø–æ—Ä–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—é **¬´—Ä–∞–∑–¥–µ–ª—è–π –∏ –≤–ª–∞—Å—Ç–≤—É–π¬ª**
* –ü—Ä–∏ –Ω–µ—É–¥–∞—á–Ω–æ–º –≤—ã–±–æ—Ä–µ –æ–ø–æ—Ä–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ ‚Äî **O(n¬≤)**

üëâ **–í—ã–≤–æ–¥**:
–ï—Å–ª–∏ –≤—ã–±–∏—Ä–∞—Ç—å pivot —Å–ª—É—á–∞–π–Ω–æ, Quick Sort —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ —Å–∞–º—ã–º –±—ã—Å—Ç—Ä—ã–º –º–µ—Ç–æ–¥–æ–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –º–∞—Å—Å–∏–≤–æ–≤.